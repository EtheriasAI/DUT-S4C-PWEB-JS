<!DOCTYPE = html>
<html>

<head>
    <title>Mazmorra's Tourist Office</title>

<meta name ="viewport" content="width=device-width, initial-scale=1.0">

<script src="scripts/leaflet/leaflet.js"></script>
<script src="scripts/Map.js"></script>

<link rel="stylesheet" href="scripts/leaflet/leaflet.css"></link>

</head>

<body style="height: 100%; margin: 0;">

    <div id="map" style="width: 100%; height: 100%; background: #ffffff; margin: 0;"></div>
    <script>
        // Variables
        var mapSW = L.LatLng(-79.1, -180),
            mapNE = L.LatLng(79.1, 180),
            bounds = L.LatLngBounds(mapSW,mapNE);

        // Declare Map Object
        var map = L.map('map').setView([0, 0],1);

        // Reference the Tiles
        L.tileLayer('./media/MapTiles/{z}/{x}/{y}.png', {
            minZoom: 1,
            maxZoom: 4,
            continuousWorld: true,
            noWrap: true,
            crs: L.CRS.Simple,
            bounds:[[-79.1,-176],[79.1,176]],
            maxBoundViscosity: 1.0
        }).addTo(map);

        // Proper map display
        map.fitBounds([
            [[-128,-128],[128,128]]
        ]);
        map.setMaxBounds([[-79.1,-176],[79.1,176]]);

        

        // Add markers, pop-ups and else.
        var marker = L.marker([0,0],{
            draggable: true
        }).addTo(map);
        marker.bindPopup('<b>You are here</b>');
        
        // cheat to get easy lng and lat
        marker.on('dragend', function(e){
            alert(e.latlng);
        });
    </script>

</body>

</html>